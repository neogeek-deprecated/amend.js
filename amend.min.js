/*!
 * amend.js v0.0.1 2014-11-16T14:29:05
 * https://github.com/neogeek/amend.js
 * 
 * Copyright (c) 2014 Scott Doxey
 * Released under the MIT license.
 */
!function(){"use strict";function a(a){this.element=a,this.events=[].concat(b),this.element.addEventListener("keydown",this._handleEvent.bind(this)),this.element.addEventListener("keyup",this._handleEvent.bind(this))}var b=[];a.prototype._handleEvent=function(a){var b,c,d=this.element.value,e=this.selection();for(b=0,c=this.events.length;c>b;b+=1)this.events[b].type===a.type&&-1!==this.events[b].keyCode.indexOf(a.keyCode)&&this.events[b].selection!==(e.start===e.end)&&this.events[b].metaKey===a.metaKey&&this.events[b].shiftKey===a.shiftKey&&(d=this.events[b].method.call(this,a,d,e),this.element.value=d,this.element.setSelectionRange(e.start,e.end))},a.prototype.selection=function(){return{start:Math.min(this.element.selectionStart,this.element.selectionEnd),end:Math.max(this.element.selectionStart,this.element.selectionEnd)}},a.prototype.insert=function(a,b,c){return b=b.substr(0,c.start)+a+b.substr(c.end)},"function"==typeof define&&void 0!==define.amd?define([],function(){return a}):"object"==typeof module&&void 0!==module.exports?module.exports=a:window.Amend=a}();